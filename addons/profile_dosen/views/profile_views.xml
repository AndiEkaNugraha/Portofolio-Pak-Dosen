<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        
        <!-- Profile Blog Views -->
        <record id="view_profile_blog_form" model="ir.ui.view">
            <field name="name">profile.blog.form</field>
            <field name="model">profile.blog</field>
            <field name="arch" type="xml">
                <form string="Kategori Profile">
                    <sheet>
                        <div class="oe_title">
                            <label for="name" class="oe_edit_only"/>
                            <h1>
                                <field name="name" placeholder="Nama Kategori Profile"/>
                            </h1>
                        </div>
                        <group>
                            <group>
                                <field name="subtitle"/>
                                <field name="profile_type"/>
                                <field name="is_main_profile"/>
                            </group>
                            <group>
                                <field name="post_count"/>
                                <field name="active"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Deskripsi">
                                <field name="description" widget="html"/>
                            </page>
                            <page string="Profile Items">
                                <field name="profile_post_ids" readonly="1"/>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="view_profile_blog_tree" model="ir.ui.view">
            <field name="name">profile.blog.tree</field>
            <field name="model">profile.blog</field>
            <field name="arch" type="xml">
                <list string="Kategori Profile">
                    <field name="name"/>
                    <field name="subtitle"/>
                    <field name="profile_type"/>
                    <field name="is_main_profile"/>
                    <field name="post_count"/>
                    <field name="active"/>
                </list>
            </field>
        </record>

        <!-- Profile Post Views -->
        <record id="view_profile_post_form" model="ir.ui.view">
            <field name="name">profile.post.form</field>
            <field name="model">profile.post</field>
            <field name="arch" type="xml">
                <form string="Profile Dosen" delete="false">
                    <header>
                        <button name="action_generate_cv" string="Generate CV" type="object" class="oe_highlight"/>
                        <button name="action_download_cv" string="Download CV" type="object" class="oe_highlight"/>
                    </header>
                    <sheet>
                        <div class="alert alert-info" role="alert" style="margin-bottom: 10px;">
                            <strong>Info:</strong> Ini adalah profile utama untuk website portfolio. 
                            Data ini akan ditampilkan di <code>/profile</code>
                        </div>
                        <div class="oe_title">
                            <label for="name" class="oe_edit_only"/>
                            <h1>
                                <field name="name" placeholder="Nama/Judul Profile"/>
                            </h1>
                        </div>
                        <group>
                            <group>
                                <field name="subtitle"/>
                                <field name="blog_id"/>
                                <field name="sequence"/>
                            </group>
                            <group>
                                <field name="is_published"/>
                                <field name="author_id"/>
                            </group>
                        </group>
                        
                        <group string="Foto Profile">
                            <field name="cover_image" widget="image" class="oe_avatar" options="{'preview_image': 'cover_image', 'size': [150, 150]}"/>
                        </group>
                        
                        <group string="Ringkasan">
                            <field name="teaser" widget="text" placeholder="Ringkasan singkat profile..." options="{'rows': 4}"/>
                        </group>
                        
                        <group string="Biografi/Konten Lengkap">
                            <field name="content" widget="html" placeholder="Tulis biografi atau konten lengkap di sini..." options="{'style-inline': true}"/>
                        </group>
                        
                        <notebook>
                            <page string="Riwayat Pendidikan">
                                <field name="education_ids" widget="one2many">
                                    <list>
                                        <field name="degree"/>
                                        <field name="major"/>
                                        <field name="institution"/>
                                        <field name="start_year"/>
                                        <field name="end_year"/>
                                        <field name="is_current"/>
                                        <field name="country"/>
                                    </list>
                                </field>
                            </page>
                            
                            <page string="Riwayat Pekerjaan">
                                <field name="work_ids" widget="one2many">
                                    <list>
                                        <field name="position"/>
                                        <field name="institution"/>
                                        <field name="employment_type"/>
                                        <field name="work_type"/>
                                        <field name="start_date"/>
                                        <field name="end_date"/>
                                        <field name="is_current"/>
                                        <field name="duration_months"/>
                                    </list>
                                </field>
                            </page>
                            
                            <page string="Bidang Keahlian &amp; Minat Riset">
                                <field name="expertise_ids" widget="one2many">
                                    <list>
                                        <field name="sequence" widget="handle"/>
                                        <field name="name"/>
                                        <field name="expertise_type"/>
                                        <field name="category"/>
                                        <field name="proficiency_level"/>
                                        <field name="years_of_experience"/>
                                    </list>
                                </field>
                            </page>
                            
                            <page string="Penghargaan">
                                <field name="award_ids" widget="one2many">
                                    <list>
                                        <field name="name"/>
                                        <field name="award_type"/>
                                        <field name="issuer"/>
                                        <field name="level"/>
                                        <field name="award_date"/>
                                        <field name="award_year"/>
                                    </list>
                                </field>
                            </page>
                            
                            <page string="CV &amp; Download">
                                <group>
                                    <div class="col-md-12 alert alert-info">
                                        <h4><i class="fa fa-info-circle"/> Cara Generate CV:</h4>
                                        <ol>
                                            <li>Pastikan data profile sudah lengkap (pendidikan, pekerjaan, dll)</li>
                                            <li>Pilih template CV default di atas (jika belum)</li>
                                            <li>Klik button <strong>"Generate CV"</strong> di header</li>
                                            <li>Pilih template yang diinginkan (opsional)</li>
                                            <li>CV akan tersimpan di bawah ini</li>
                                        </ol>
                                        <p class="text-warning"><i class="fa fa-exclamation-triangle"/> <strong>Penting:</strong> Jika Anda edit template CV di menu Configuration, Anda harus <strong>generate ulang CV</strong> untuk melihat perubahannya!</p>
                                    </div>
                                </group>
                                <group>
                                    <group string="CV Terakhir">
                                        <field name="cv_generated_date" readonly="1"/>
                                        <field name="default_cv_template_id"/>
                                    </group>
                                    <group string="Dokumen CV">
                                        <field name="cv_document" filename="cv_document_filename"/>
                                        <field name="cv_document_filename" invisible="1"/>
                                    </group>
                                </group>
                            </page>
                            
                            <page string="SEO">
                                <group>
                                    <field name="meta_title"/>
                                    <field name="meta_description" widget="text"/>
                                    <field name="meta_keywords"/>
                                </group>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="view_profile_post_tree" model="ir.ui.view">
            <field name="name">profile.post.tree</field>
            <field name="model">profile.post</field>
            <field name="arch" type="xml">
                <list string="Profile Dosen" create="false">
                    <field name="sequence" widget="handle"/>
                    <field name="name"/>
                    <field name="blog_id"/>
                    <field name="is_published" string="Website"/>
                    <field name="cv_generated_date"/>
                </list>
            </field>
        </record>

        <!-- Profile Education Views -->
        <record id="view_profile_education_form" model="ir.ui.view">
            <field name="name">profile.education.form</field>
            <field name="model">profile.education</field>
            <field name="arch" type="xml">
                <form string="Riwayat Pendidikan">
                    <sheet>
                        <group>
                            <group>
                                <field name="degree"/>
                                <field name="institution"/>
                                <field name="faculty"/>
                                <field name="major"/>
                            </group>
                            <group>
                                <field name="start_year"/>
                                <field name="end_year" invisible="is_current"/>
                                <field name="is_current"/>
                                <field name="gpa"/>
                                <field name="gpa_scale"/>
                            </group>
                        </group>
                        <group>
                            <group>
                                <field name="country"/>
                                <field name="city"/>
                            </group>
                            <group>
                                <field name="thesis_title"/>
                                <field name="thesis_advisor"/>
                            </group>
                        </group>
                        <group string="Prestasi">
                            <field name="achievements" widget="text"/>
                        </group>
                        <group string="Deskripsi">
                            <field name="description" widget="text"/>
                        </group>
                        <group>
                            <group string="Ijazah">
                                <field name="certificate_file" filename="certificate_filename"/>
                                <field name="certificate_filename" invisible="1"/>
                            </group>
                            <group string="Transkrip">
                                <field name="transcript_file" filename="transcript_filename"/>
                                <field name="transcript_filename" invisible="1"/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- Profile Work Views -->
        <record id="view_profile_work_form" model="ir.ui.view">
            <field name="name">profile.work.form</field>
            <field name="model">profile.work</field>
            <field name="arch" type="xml">
                <form string="Riwayat Pekerjaan">
                    <sheet>
                        <group>
                            <group>
                                <field name="position"/>
                                <field name="institution"/>
                                <field name="department"/>
                                <field name="employment_type"/>
                                <field name="work_type"/>
                            </group>
                            <group>
                                <field name="start_date"/>
                                <field name="end_date" invisible="is_current"/>
                                <field name="is_current"/>
                                <field name="duration_months"/>
                                <field name="location"/>
                                <field name="country"/>
                            </group>
                        </group>
                        <group string="Deskripsi Pekerjaan">
                            <field name="description" widget="html"/>
                        </group>
                        <group string="Pencapaian">
                            <field name="achievements" widget="html"/>
                        </group>
                        <group string="Keterampilan">
                            <field name="skills" widget="text" placeholder="Contoh: Python, Machine Learning, Project Management"/>
                        </group>
                        <group>
                            <group string="Surat Keputusan">
                                <field name="appointment_letter" filename="appointment_letter_filename"/>
                                <field name="appointment_letter_filename" invisible="1"/>
                            </group>
                            <group string="Sertifikat">
                                <field name="certificate_file" filename="certificate_filename"/>
                                <field name="certificate_filename" invisible="1"/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- Profile Award Views -->
        <record id="view_profile_award_form" model="ir.ui.view">
            <field name="name">profile.award.form</field>
            <field name="model">profile.award</field>
            <field name="arch" type="xml">
                <form string="Penghargaan">
                    <sheet>
                        <group>
                            <group>
                                <field name="name"/>
                                <field name="award_type"/>
                                <field name="issuer"/>
                                <field name="level"/>
                            </group>
                            <group>
                                <field name="award_date"/>
                                <field name="award_year"/>
                                <field name="country"/>
                                <field name="certificate_number"/>
                                <field name="website_url" widget="url"/>
                            </group>
                        </group>
                        <group string="Deskripsi">
                            <field name="description" widget="html"/>
                        </group>
                        <group string="Prestasi">
                            <field name="achievement" widget="text"/>
                        </group>
                        <group>
                            <group string="Sertifikat/Piagam">
                                <field name="certificate_file" filename="certificate_filename"/>
                                <field name="certificate_filename" invisible="1"/>
                            </group>
                            <group string="Foto Sertifikat">
                                <field name="certificate_image" widget="image"/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- Profile Expertise Views -->
        <record id="view_profile_expertise_form" model="ir.ui.view">
            <field name="name">profile.expertise.form</field>
            <field name="model">profile.expertise</field>
            <field name="arch" type="xml">
                <form string="Keahlian &amp; Minat Riset">
                    <sheet>
                        <group>
                            <group>
                                <field name="name"/>
                                <field name="expertise_type"/>
                                <field name="category"/>
                                <field name="proficiency_level"/>
                                <field name="years_of_experience"/>
                            </group>
                            <group>
                                <field name="related_publications_count"/>
                                <field name="related_projects_count"/>
                                <field name="sequence"/>
                            </group>
                        </group>
                        <group string="Deskripsi">
                            <field name="description" widget="html"/>
                        </group>
                        <group string="Kata Kunci">
                            <field name="keywords" widget="text" placeholder="Contoh: artificial intelligence, deep learning, neural networks"/>
                        </group>
                        <group string="Sertifikasi (Jika Ada)">
                            <group>
                                <field name="certification_name"/>
                                <field name="certification_issuer"/>
                                <field name="certification_date"/>
                                <field name="certification_expiry"/>
                            </group>
                            <group>
                                <field name="certification_file" filename="certification_filename"/>
                                <field name="certification_filename" invisible="1"/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- CV Template Views -->
        <record id="view_cv_template_form" model="ir.ui.view">
            <field name="name">cv.template.form</field>
            <field name="model">cv.template</field>
            <field name="arch" type="xml">
                <form string="Template CV">
                    <sheet>
                        <group>
                            <group>
                                <field name="name"/>
                                <field name="code"/>
                                <field name="template_type"/>
                                <field name="is_default"/>
                            </group>
                            <group>
                                <field name="sequence"/>
                                <field name="active"/>
                            </group>
                        </group>
                        <group string="Deskripsi">
                            <field name="description" widget="text"/>
                        </group>
                        <notebook>
                            <page string="HTML Template">
                                <group>
                                    <div class="alert alert-warning" role="alert">
                                        <h4><i class="fa fa-exclamation-triangle"/> PENTING:</h4>
                                        <p>Setelah mengedit template ini, Anda harus <strong>generate ulang CV</strong> di Profile Saya agar perubahan terlihat!</p>
                                        <p>Perubahan template <strong>TIDAK otomatis update</strong> CV yang sudah di-generate sebelumnya.</p>
                                    </div>
                                    <div class="alert alert-info" role="alert">
                                        <h4>2 Cara Menulis Template HTML:</h4>
                                        <p><strong>Opsi 1: HTML Lengkap</strong> (Recommended) - Tulis HTML lengkap dengan DOCTYPE, head, body:</p>
                                        <pre>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;style&gt;${'{'} custom_css {'}'}&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;${'{'} profile_name {'}'}&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
                                        <p><strong>Opsi 2: Body Saja</strong> - Tulis hanya konten body, sistem akan auto-wrap dengan HTML structure:</p>
                                        <pre>&lt;div class="container"&gt;
    &lt;h1&gt;${'{'} profile_name {'}'}&lt;/h1&gt;
    &lt;p&gt;${'{'} profile_biography {'}'}&lt;/p&gt;
&lt;/div&gt;</pre>
                                    </div>
                                    <div class="alert alert-success" role="alert">
                                        <h4>Panduan Placeholder untuk Custom HTML Template:</h4>
                                        <p><strong>Data Profil:</strong></p>
                                        <ul>
                                            <li><code>${'{'}profile_name{'}'}</code> - Nama dosen</li>
                                            <li><code>${'{'}profile_subtitle{'}'}</code> - Subtitle/jabatan</li>
                                            <li><code>${'{'}profile_biography{'}'}</code> - Biografi lengkap</li>
                                            <li><code>${'{'}custom_css{'}'}</code> - Custom CSS dari field di bawah</li>
                                        </ul>
                                        <p><strong>Riwayat Personal:</strong></p>
                                        <ul>
                                            <li><code>${'{'}education_html{'}'}</code> - Riwayat pendidikan</li>
                                            <li><code>${'{'}work_experience_html{'}'}</code> - Pengalaman kerja</li>
                                            <li><code>${'{'}expertise_html{'}'}</code> - Keahlian &amp; minat riset</li>
                                            <li><code>${'{'}awards_html{'}'}</code> - Penghargaan</li>
                                        </ul>
                                        <p><strong>Publikasi &amp; Karya:</strong></p>
                                        <ul>
                                            <li><code>${'{'}publications_html{'}'}</code> - Publikasi jurnal ilmiah</li>
                                            <li><code>${'{'}books_html{'}'}</code> - Buku karya</li>
                                            <li><code>${'{'}conferences_html{'}'}</code> - Prosiding konferensi</li>
                                            <li><code>${'{'}patents_html{'}'}</code> - HKI / Paten</li>
                                        </ul>
                                        <p><strong>Penelitian:</strong></p>
                                        <ul>
                                            <li><code>${'{'}projects_html{'}'}</code> - Proyek penelitian</li>
                                            <li><code>${'{'}grants_html{'}'}</code> - Hibah pendanaan</li>
                                            <li><code>${'{'}products_html{'}'}</code> - Produk penelitian</li>
                                            <li><code>${'{'}groups_html{'}'}</code> - Grup riset</li>
                                        </ul>
                                        <p><strong>Aktivitas:</strong></p>
                                        <ul>
                                            <li><code>${'{'}community_service_html{'}'}</code> - Pengabdian masyarakat</li>
                                            <li><code>${'{'}reviewer_html{'}'}</code> - Aktivitas reviewer</li>
                                            <li><code>${'{'}events_html{'}'}</code> - Acara &amp; kegiatan</li>
                                        </ul>
                                        <p><strong>Contoh:</strong></p>
                                        <pre>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;style&gt;${'{'} custom_css {'}'}&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;${'{'} profile_name {'}'}&lt;/h1&gt;
    &lt;h2&gt;${'{'} profile_subtitle {'}'}&lt;/h2&gt;
    &lt;div&gt;${'{'} education_html {'}'}&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
                                    </div>
                                </group>
                                <field name="custom_html_template" widget="ace" options="{'mode': 'html'}" placeholder="Tulis HTML template di sini..."/>
                            </page>
                            <page string="Sections to Include">
                                <group>
                                    <group string="Basic Info">
                                        <field name="include_personal_info"/>
                                        <field name="include_biography"/>
                                        <field name="include_education"/>
                                        <field name="include_work_experience"/>
                                        <field name="include_expertise"/>
                                        <field name="include_awards"/>
                                    </group>
                                    <group string="Publications &amp; Research">
                                        <field name="include_publications"/>
                                        <field name="include_books"/>
                                        <field name="include_patents"/>
                                        <field name="include_research_projects"/>
                                        <field name="include_research_products"/>
                                        <field name="include_conferences"/>
                                    </group>
                                </group>
                                <group>
                                    <group string="Activities">
                                        <field name="include_community_service"/>
                                        <field name="include_grants"/>
                                        <field name="include_reviewer_activities"/>
                                        <field name="include_events"/>
                                        <field name="include_research_groups"/>
                                        <field name="include_courses"/>
                                    </group>
                                    <group string="Options">
                                        <field name="sort_by_year"/>
                                        <field name="sort_descending"/>
                                        <field name="date_format"/>
                                        <field name="limit_publications"/>
                                        <field name="limit_projects"/>
                                    </group>
                                </group>
                            </page>
                            <page string="Custom CSS">
                                <group>
                                    <div class="alert alert-info" role="alert">
                                        <h4>Tips CSS untuk CV:</h4>
                                        <ul>
                                            <li>Gunakan font yang ATS-friendly: Arial, Calibri, Georgia</li>
                                            <li>Ukuran font 10-12pt untuk body text</li>
                                            <li>Hindari warna background yang berlebihan</li>
                                            <li>Gunakan margin yang cukup untuk print</li>
                                        </ul>
                                    </div>
                                </group>
                                <field name="custom_css" widget="ace" options="{'mode': 'css'}" placeholder="/* Tulis CSS kustom di sini... */"/>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="view_cv_template_tree" model="ir.ui.view">
            <field name="name">cv.template.tree</field>
            <field name="model">cv.template</field>
            <field name="arch" type="xml">
                <list string="Template CV">
                    <field name="sequence" widget="handle"/>
                    <field name="name"/>
                    <field name="code"/>
                    <field name="template_type"/>
                    <field name="is_default"/>
                    <field name="active"/>
                </list>
            </field>
        </record>

        <!-- CV Generator Wizard Views -->
        <record id="view_cv_generator_form" model="ir.ui.view">
            <field name="name">cv.generator.form</field>
            <field name="model">cv.generator</field>
            <field name="arch" type="xml">
                <form string="Generate CV">
                    <group>
                        <field name="profile_post_id" readonly="1"/>
                        <field name="template_id"/>
                        <field name="include_photo"/>
                        <field name="language"/>
                    </group>
                    <group string="Preview CV" invisible="not cv_html">
                        <field name="cv_html" widget="html" readonly="1"/>
                    </group>
                    <footer>
                        <button name="generate_cv" string="Generate CV" type="object" class="oe_highlight"/>
                        <button name="action_preview_cv" string="Preview" type="object"/>
                        <button name="action_download_cv" string="Download" type="object"/>
                        <button name="action_test_pdf" string="Test PDF" type="object" class="btn-warning"/>
                        <button string="Cancel" class="btn-secondary" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>

    </data>
</odoo>
