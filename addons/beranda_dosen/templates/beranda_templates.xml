<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <!-- Main Homepage Template -->
        <template id="homepage_template" name="Beranda Dosen">
            <t t-call="website.layout">
                
                <!-- SEO Meta Tags -->
                <t t-set="head">
                    <meta name="description" t-att-content="meta_description"/>
                    <meta name="keywords" t-att-content="meta_keywords"/>
                    <meta property="og:title" t-att-content="meta_title"/>
                    <meta property="og:description" t-att-content="meta_description"/>
                    <meta property="og:type" content="profile"/>
                    <meta name="twitter:card" content="summary_large_image"/>
                    <meta name="twitter:title" t-att-content="meta_title"/>
                    <meta name="twitter:description" t-att-content="meta_description"/>
                </t>

                <!-- Custom CSS -->
                <t t-set="head">
                    <link rel="stylesheet" href="/beranda_dosen/static/src/css/beranda_style.css"/>
                </t>

                <t t-if="profile">
                    <!-- Hero Section -->
                    <section class="hero-section" t-attf-data-theme="#{profile.theme_color}">
                        <div class="container">
                            <div class="row align-items-center min-vh-100">
                                <div class="col-lg-6">
                                    <div class="hero-content">
                                        <h1 class="hero-title">
                                            <span class="hero-greeting">Halo, saya</span>
                                            <strong t-field="profile.display_name_with_title"/>
                                        </h1>
                                        
                                        <p class="hero-position" t-field="profile.position"/>
                                        <p class="hero-institution" t-field="profile.institution"/>
                                        
                                        <p class="hero-bio" t-field="profile.short_bio"/>
                                        
                                        <!-- Expertise Tags -->
                                        <div class="expertise-tags" t-if="profile.expertise_areas">
                                            <t t-foreach="profile.expertise_areas.split(',')" t-as="expertise">
                                                <span class="expertise-tag" t-esc="expertise.strip()"/>
                                            </t>
                                        </div>
                                        
                                        <!-- CTA Buttons -->
                                        <div class="hero-cta">
                                            <a t-if="profile.show_research_cta" 
                                               t-att-href="profile.research_cta_url or '/penelitian'" 
                                               class="btn btn-primary btn-lg me-3">
                                                <i class="fa fa-flask me-2"/>
                                                Lihat Riset Saya
                                            </a>
                                            
                                            <a t-if="profile.show_cv_download and profile.cv_file" 
                                               href="/download-cv" 
                                               class="btn btn-outline-primary btn-lg me-3">
                                                <i class="fa fa-download me-2"/>
                                                Download CV
                                            </a>
                                            
                                            <a t-if="profile.show_collaboration_cta" 
                                               href="/kontak-kolaborasi" 
                                               class="btn btn-outline-secondary btn-lg">
                                                <i class="fa fa-handshake-o me-2"/>
                                                Kolaborasi
                                            </a>
                                        </div>
                                        
                                        <!-- Social Media Links -->
                                        <div class="social-links mt-4">
                                            <a t-if="profile.linkedin_url" t-att-href="profile.linkedin_url" target="_blank" class="social-link">
                                                <i class="fa fa-linkedin"/>
                                            </a>
                                            <a t-if="profile.google_scholar_url" t-att-href="profile.google_scholar_url" target="_blank" class="social-link">
                                                <i class="fa fa-graduation-cap"/>
                                            </a>
                                            <a t-if="profile.researchgate_url" t-att-href="profile.researchgate_url" target="_blank" class="social-link">
                                                <i class="fa fa-flask"/>
                                            </a>
                                            <a t-if="profile.orcid_url" t-att-href="profile.orcid_url" target="_blank" class="social-link">
                                                <i class="fa fa-id-card-o"/>
                                            </a>
                                            <a t-if="profile.twitter_url" t-att-href="profile.twitter_url" target="_blank" class="social-link">
                                                <i class="fa fa-twitter"/>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="col-lg-6">
                                    <div class="hero-image">
                                        <img t-att-src="'/web/image/beranda.profile/' + str(profile.id) + '/profile_photo'" 
                                             t-att-alt="profile.name" 
                                             class="profile-photo"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Stats Section -->
                    <section class="stats-section py-5" t-if="any([stats[key] for key in stats])">
                        <div class="container">
                            <div class="row text-center">
                                <div class="col-md-2" t-if="stats['publications']">
                                    <div class="stat-item">
                                        <div class="stat-number" t-esc="stats['publications']"/>
                                        <div class="stat-label">Publikasi</div>
                                    </div>
                                </div>
                                <div class="col-md-2" t-if="stats['research_projects']">
                                    <div class="stat-item">
                                        <div class="stat-number" t-esc="stats['research_projects']"/>
                                        <div class="stat-label">Proyek Riset</div>
                                    </div>
                                </div>
                                <div class="col-md-2" t-if="stats['patents']">
                                    <div class="stat-item">
                                        <div class="stat-number" t-esc="stats['patents']"/>
                                        <div class="stat-label">Paten/HKI</div>
                                    </div>
                                </div>
                                <div class="col-md-2" t-if="stats['years_experience']">
                                    <div class="stat-item">
                                        <div class="stat-number" t-esc="stats['years_experience']"/>
                                        <div class="stat-label">Tahun Pengalaman</div>
                                    </div>
                                </div>
                                <div class="col-md-2" t-if="stats['h_index']">
                                    <div class="stat-item">
                                        <div class="stat-number" t-esc="stats['h_index']"/>
                                        <div class="stat-label">H-Index</div>
                                    </div>
                                </div>
                                <div class="col-md-2" t-if="stats['citations']">
                                    <div class="stat-item">
                                        <div class="stat-number" t-esc="stats['citations']"/>
                                        <div class="stat-label">Sitasi</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- About Section -->
                    <section class="about-section py-5" t-if="profile.about_me">
                        <div class="container">
                            <div class="row">
                                <div class="col-lg-8 mx-auto">
                                    <h2 class="section-title text-center mb-5">Tentang Saya</h2>
                                    <div class="about-content" t-field="profile.about_me"/>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Achievements Section -->
                    <section class="achievements-section py-5" t-if="achievements">
                        <div class="container">
                            <h2 class="section-title text-center mb-5">Pencapaian Terbaru</h2>
                            <div class="row">
                                <t t-foreach="achievements" t-as="achievement">
                                    <div class="col-lg-4 col-md-6 mb-4">
                                        <div class="achievement-card">
                                            <div class="achievement-icon">
                                                <i t-att-class="'fa ' + achievement.category_icon"/>
                                            </div>
                                            <div class="achievement-content">
                                                <div class="achievement-date" t-field="achievement.date" t-options="{'widget': 'date', 'format': 'MMM yyyy'}"/>
                                                <h5 class="achievement-title" t-field="achievement.name"/>
                                                <p class="achievement-description" t-field="achievement.description"/>
                                                <a t-if="achievement.url" t-att-href="achievement.url" target="_blank" class="achievement-link">
                                                    Lihat Detail <i class="fa fa-external-link"/>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </t>
                            </div>
                        </div>
                    </section>

                    <!-- Recent Posts Section -->
                    <section class="recent-posts-section py-5" t-if="recent_posts">
                        <div class="container">
                            <h2 class="section-title text-center mb-5">Karya Terbaru</h2>
                            <div class="row">
                                <t t-foreach="recent_posts" t-as="post">
                                    <div class="col-lg-4 col-md-6 mb-4">
                                        <div class="post-card">
                                            <div class="post-type" t-esc="post['type']"/>
                                            <h5 class="post-title">
                                                <a t-att-href="post['url']" t-esc="post['title']"/>
                                            </h5>
                                            <div class="post-date" t-esc="post['date']"/>
                                        </div>
                                    </div>
                                </t>
                            </div>
                            
                            <div class="text-center mt-4">
                                <a href="/jurnal" class="btn btn-outline-primary me-3">Lihat Semua Jurnal</a>
                                <a href="/hki" class="btn btn-outline-primary me-3">Lihat HKI/Paten</a>
                                <a href="/produk-penelitian" class="btn btn-outline-primary">Lihat Produk Penelitian</a>
                            </div>
                        </div>
                    </section>

                    <!-- Vision Mission Section -->
                    <section class="vision-mission-section py-5" t-if="profile.vision_mission">
                        <div class="container">
                            <div class="row">
                                <div class="col-lg-8 mx-auto">
                                    <h2 class="section-title text-center mb-5">Visi &amp; Misi</h2>
                                    <div class="vision-mission-content" t-field="profile.vision_mission"/>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Contact CTA Section -->
                    <section class="contact-cta-section py-5">
                        <div class="container">
                            <div class="row">
                                <div class="col-lg-8 mx-auto text-center">
                                    <h2 class="section-title mb-4">Mari Berkolaborasi!</h2>
                                    <p class="lead mb-4">
                                        Tertarik untuk berkolaborasi dalam penelitian atau proyek akademik? 
                                        Jangan ragu untuk menghubungi saya.
                                    </p>
                                    <div class="contact-buttons">
                                        <a href="/kontak-kolaborasi" class="btn btn-primary btn-lg me-3">
                                            <i class="fa fa-envelope me-2"/>
                                            Hubungi Saya
                                        </a>
                                        <a t-att-href="'mailto:' + profile.email" class="btn btn-outline-primary btn-lg">
                                            <i class="fa fa-envelope-o me-2"/>
                                            Email Langsung
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                </t>
                <t t-else="">
                    <!-- Default message when no profile is set -->
                    <section class="hero-section">
                        <div class="container">
                            <div class="row align-items-center min-vh-100">
                                <div class="col-lg-12 text-center">
                                    <h1 class="hero-title">Selamat Datang</h1>
                                    <p class="lead">Website portofolio sedang dalam pengembangan.</p>
                                    <p>Silakan kembali lagi nanti untuk melihat profil lengkap.</p>
                                </div>
                            </div>
                        </div>
                    </section>
                </t>

            </t>
        </template>

        <!-- Collaboration Form Template -->
        <template id="collaboration_form_template" name="Form Kolaborasi">
            <t t-call="website.layout">
                <div class="container py-5">
                    <div class="row">
                        <div class="col-lg-8 mx-auto">
                            <h1 class="text-center mb-5">Kontak untuk Kolaborasi</h1>
                            
                            <div class="alert alert-danger" t-if="error">
                                <t t-esc="error"/>
                            </div>
                            
                            <form method="post" class="collaboration-form">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="name" class="form-label">Nama Lengkap *</label>
                                            <input type="text" class="form-control" id="name" name="name" 
                                                   t-att-value="name or ''" required=""/>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="email" class="form-label">Email *</label>
                                            <input type="email" class="form-control" id="email" name="email" 
                                                   t-att-value="email or ''" required=""/>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="subject" class="form-label">Subjek</label>
                                    <input type="text" class="form-control" id="subject" name="subject" 
                                           t-att-value="subject or ''" placeholder="Subjek kolaborasi..."/>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="message" class="form-label">Pesan *</label>
                                    <textarea class="form-control" id="message" name="message" rows="5" 
                                              required="" placeholder="Ceritakan tentang rencana kolaborasi Anda..."><t t-esc="message or ''"/></textarea>
                                </div>
                                
                                <div class="text-center">
                                    <button type="submit" class="btn btn-primary btn-lg">
                                        <i class="fa fa-paper-plane me-2"/>
                                        Kirim Pesan
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </t>
        </template>

        <!-- Collaboration Success Template -->
        <template id="collaboration_success_template" name="Pesan Berhasil Dikirim">
            <t t-call="website.layout">
                <div class="container py-5">
                    <div class="row">
                        <div class="col-lg-6 mx-auto text-center">
                            <div class="alert alert-success">
                                <i class="fa fa-check-circle fa-3x mb-3"/>
                                <h3>Pesan Berhasil Dikirim!</h3>
                                <p>Terima kasih <strong t-esc="name"/>, pesan Anda telah dikirim.</p>
                                <p>Saya akan merespon pesan Anda dalam 1-2 hari kerja.</p>
                            </div>
                            
                            <a href="/" class="btn btn-primary">
                                <i class="fa fa-home me-2"/>
                                Kembali ke Beranda
                            </a>
                        </div>
                    </div>
                </div>
            </t>
        </template>

    </data>
</odoo>